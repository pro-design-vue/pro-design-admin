import{z as U,A as Y,B as x,C as Z,P as ee,w as T,x as E,y as C,E as te,ap as re}from"./basic-TZNKCopR.js";import{u as ae}from"./useBreakpoint-CxTVfX4w.js";import{r as ne}from"./Col-DYB5-dge.js";import{R as oe}from"./collapseMotion-cqUX5Jv0.js";import{e as se}from"./eagerComputed-DI6QXORB.js";import{a1 as ie,a2 as le,d as F,a5 as A,a0 as H,k as L,ak as ce,al as G,M as S,w as ue}from"./index-yzzBeQZ6.js";import{P as de}from"./RightOutlined-o2ph79Q2.js";const pe=e=>{const{antCls:n,componentCls:a,iconCls:t,avatarBg:o,avatarColor:p,containerSize:i,containerSizeLG:c,containerSizeSM:m,textFontSize:g,textFontSizeLG:u,textFontSizeSM:w,borderRadius:b,borderRadiusLG:s,borderRadiusSM:z,lineWidth:v,lineType:h}=e,d=(f,r,l)=>({width:f,height:f,lineHeight:`${f-v*2}px`,borderRadius:"50%",[`&${a}-square`]:{borderRadius:l},[`${a}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${a}-icon`]:{fontSize:r,[`> ${t}`]:{margin:0}}});return{[a]:x(x(x(x({},Z(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:p,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:o,border:`${v}px ${h} transparent`,"&-image":{background:"transparent"},[`${n}-image-img`]:{display:"block"}}),d(i,g,b)),{"&-lg":x({},d(c,u,s)),"&-sm":x({},d(m,w,z)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},ge=e=>{const{componentCls:n,groupBorderColor:a,groupOverlapping:t,groupSpace:o}=e;return{[`${n}-group`]:{display:"inline-flex",[`${n}`]:{borderColor:a},"> *:not(:first-child)":{marginInlineStart:t}},[`${n}-group-popover`]:{[`${n} + ${n}`]:{marginInlineStart:o}}}},W=U("Avatar",e=>{const{colorTextLightSolid:n,colorTextPlaceholder:a}=e,t=Y(e,{avatarBg:a,avatarColor:n});return[pe(t),ge(t)]},e=>{const{controlHeight:n,controlHeightLG:a,controlHeightSM:t,fontSize:o,fontSizeLG:p,fontSizeXL:i,fontSizeHeading3:c,marginXS:m,marginXXS:g,colorBorderBg:u}=e;return{containerSize:n,containerSizeLG:a,containerSizeSM:t,textFontSize:Math.round((p+i)/2),textFontSizeLG:c,textFontSizeSM:o,groupSpace:g,groupOverlapping:-m,groupBorderColor:u}}),_=Symbol("AvatarContextKey"),ve=()=>ie(_,{}),fe=e=>le(_,e),me=()=>({prefixCls:String,shape:{type:String,default:"circle"},size:{type:[Number,String,Object],default:()=>"default"},src:String,srcset:String,icon:ee.any,alt:String,gap:Number,draggable:{type:Boolean,default:void 0},crossOrigin:String,loadError:{type:Function}}),R=F({compatConfig:{MODE:3},name:"AAvatar",inheritAttrs:!1,props:me(),slots:Object,setup(e,n){let{slots:a,attrs:t}=n;const o=A(!0),p=A(!1),i=A(1),c=A(null),m=A(null),{prefixCls:g}=T("avatar",e),[u,w]=W(g),b=ve(),s=H(()=>e.size==="default"?b.size:e.size),z=ae(),v=se(()=>{if(typeof e.size!="object")return;const r=ne.find($=>z.value[$]);return e.size[r]}),h=r=>v.value?{width:`${v.value}px`,height:`${v.value}px`,lineHeight:`${v.value}px`,fontSize:`${r?v.value/2:18}px`}:{},d=()=>{if(!c.value||!m.value)return;const r=c.value.offsetWidth,l=m.value.offsetWidth;if(r!==0&&l!==0){const{gap:$=4}=e;$*2<l&&(i.value=l-$*2<r?(l-$*2)/r:1)}},f=()=>{const{loadError:r}=e;r?.()!==!1&&(o.value=!1)};return L(()=>e.src,()=>{G(()=>{o.value=!0,i.value=1})}),L(()=>e.gap,()=>{G(()=>{d()})}),ce(()=>{G(()=>{d(),p.value=!0})}),()=>{var r,l;const{shape:$,src:O,alt:I,srcset:N,draggable:D,crossOrigin:X}=e,K=(r=b.shape)!==null&&r!==void 0?r:$,k=E(a,e,"icon"),y=g.value,q={[`${t.class}`]:!!t.class,[y]:!0,[`${y}-lg`]:s.value==="large",[`${y}-sm`]:s.value==="small",[`${y}-${K}`]:!0,[`${y}-image`]:O&&o.value,[`${y}-icon`]:k,[w.value]:!0},V=typeof s.value=="number"?{width:`${s.value}px`,height:`${s.value}px`,lineHeight:`${s.value}px`,fontSize:k?`${s.value/2}px`:"18px"}:{},j=(l=a.default)===null||l===void 0?void 0:l.call(a);let P;if(O&&o.value)P=S("img",{draggable:D,src:O,srcset:N,onError:f,alt:I,crossorigin:X},null);else if(k)P=k;else if(p.value||i.value!==1){const B=`scale(${i.value}) translateX(-50%)`,J={msTransform:B,WebkitTransform:B,transform:B},Q=typeof s.value=="number"?{lineHeight:`${s.value}px`}:{};P=S(oe,{onResize:d},{default:()=>[S("span",{class:`${y}-string`,ref:c,style:x(x({},Q),J)},[j])]})}else P=S("span",{class:`${y}-string`,ref:c,style:{opacity:0}},[j]);return u(S("span",C(C({},t),{},{ref:m,class:q,style:[V,h(!!k),t.style]}),[P]))}}}),Se=()=>({prefixCls:String,maxCount:Number,maxStyle:{type:Object,default:void 0},maxPopoverPlacement:{type:String,default:"top"},maxPopoverTrigger:String,size:{type:[Number,String,Object],default:"default"},shape:{type:String,default:"circle"}}),M=F({compatConfig:{MODE:3},name:"AAvatarGroup",inheritAttrs:!1,props:Se(),setup(e,n){let{slots:a,attrs:t}=n;const{prefixCls:o,direction:p}=T("avatar",e),i=H(()=>`${o.value}-group`),[c,m]=W(o);return ue(()=>{const g={size:e.size,shape:e.shape};fe(g)}),()=>{const{maxPopoverPlacement:g="top",maxCount:u,maxStyle:w,maxPopoverTrigger:b="hover",shape:s}=e,z={[i.value]:!0,[`${i.value}-rtl`]:p.value==="rtl",[`${t.class}`]:!!t.class,[m.value]:!0},v=E(a,e),h=te(v).map((f,r)=>re(f,{key:`avatar-key-${r}`})),d=h.length;if(u&&u<d){const f=h.slice(0,u),r=h.slice(u,d);return f.push(S(de,{key:"avatar-popover-key",content:r,trigger:b,placement:g,overlayClassName:`${i.value}-popover`},{default:()=>[S(R,{style:w,shape:s},{default:()=>[`+${d-u}`]})]})),c(S("div",C(C({},t),{},{class:z,style:t.style}),[f]))}return c(S("div",C(C({},t),{},{class:z,style:t.style}),[h]))}}});R.Group=M;R.install=function(e){return e.component(R.name,R),e.component(M.name,M),e};function he(e,n={}){const{noopener:a=!0,noreferrer:t=!0,target:o="_blank"}=n,p=[a&&"noopener=yes",t&&"noreferrer=yes"].filter(Boolean).join(",");window.open(e,o,p)}function ke(e){const{hash:n,origin:a}=location,t=e.startsWith("/")?e:`/${e}`,o=`${a}${n?"/#":""}${t}`;he(o,{target:"_blank"})}const Pe="/assets/avatar-v1-DgoLk7_G.webp";export{R as A,Pe as D,he as a,ke as o};
