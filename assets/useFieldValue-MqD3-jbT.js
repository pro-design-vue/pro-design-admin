import{g as r,s as d}from"./index-DAoMsBPO.js";import{ap as F,c as i}from"./basic-DAwYBwW6.js";import{a5 as g,a0 as m,j as I}from"./index-BtJ5tOed.js";function w({namePath:e,initialValue:l,convertValue:a,transform:s}){const v=g(),{formData:o,initialValues:t,mountedRef:c}=r(),f=m(()=>F(o.value,e.value)),n=u=>{d(o.value,e.value,s?s(u,e.value,o.value):u)};return I(f,u=>{v.value=i(a?a(u,e.value):u)},{immediate:!0,deep:!0}),(()=>{var u;if(!c.value&&typeof f.value>"u"&&typeof l<"u"){const p=s?s(l,e.value,o.value):l;d(o.value,e.value,i(p)),d((u=t?.value)!=null?u:{},e.value,i(p)),v.value=a?a(l,e.value):l}})(),{fieldValue:v,onValueChange:n}}export{w as u};
