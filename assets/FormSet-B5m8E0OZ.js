import{g,p as _,i as b,F as h}from"./index-Bi03pdJe.js";import{u as A}from"./useFieldValue-BQhI4Q2B.js";import{F as I,a as O}from"./FormTitle-COqwZhXY.js";import{r as c}from"./run-function-ZYhDcPlt.js";import{d as S}from"./globals-CLMMi5GE.js";import{ap as j}from"./basic-DgLU-3yf.js";import{i as L}from"./isEqual-DNjuRPRt.js";import{F as w}from"./index-CQ1xYUcL.js";import{d as T,a0 as r,M as l,j as C}from"./index-BubrmqFj.js";import"./index-BDwNi5ue.js";import"./index-BjwLXhik.js";import"./validate-B6x-sGAS.js";import"./index-ag6Y4I-t.js";import"./collapseMotion-BT1KyrJg.js";import"./RightOutlined-BCg9pnpp.js";import"./pick-CahEEkgp.js";import"./hasIn-CfgR5fNq.js";import"./index-DOq2S9jf.js";import"./index-DCOweZVa.js";import"./Col-CYc2WriB.js";import"./index-Ca74gOWw.js";import"./index-BPNZ9TqX.js";import"./useBreakpoint-CIr-yek7.js";import"./FormItemContext-CznXzDhH.js";const E=["formList","formSet","group","divider"],N=["autoLink","colon","hasFeedback","labelAlign","labelCol","required","validateFirst","validateStatus","validateTrigger","wrapperCol","required"];var lt=T({name:"FormSet",inheritAttrs:!1,props:{name:{type:[String,Array],default:void 0},initialValue:{type:Object,default:void 0},title:{type:[String,Object,Function],default:void 0},tooltip:{type:String,default:void 0},colProps:{type:Object,default:void 0},rowProps:{type:Object,default:void 0},spaceProps:{type:Object,default:()=>({})},formItemProps:{type:[Object,Function],default:void 0},convertValue:{type:Function,default:void 0},transform:{type:Function,default:void 0},items:{type:[Array,Function],default:void 0}},setup(t){const{formatItems:p,formData:u}=g(),{fieldValue:v,onValueChange:y}=A({namePath:r(()=>t.name),initialValue:t.initialValue,convertValue:t.convertValue,transform:t.transform}),F=r(()=>{var e;return(e=c(t.formItemProps,u.value))!=null?e:{}}),P=r(()=>S({..._(F.value,N)})),m=r(()=>{var e,a,o;let f=(a=c((e=t.items)!=null?e:[],u.value))!=null?a:[];return Array.isArray(t.initialValue)&&t.initialValue.length&&(f=f.filter(i=>{var n;return!E.includes((n=i.fieldType)!=null?n:"")}).map((i,n)=>(typeof i.initialValue>"u"&&(i.initialValue=t.initialValue[n]),i))),(o=p?.(f))!=null?o:[]}),s=r(()=>m.value.map(e=>e.name)),d=r(()=>{const e=[];return Array.isArray(s.value)&&s.value.length&&s.value.forEach((a,o)=>{e[o]=j(u.value,a)}),e}),V=r(()=>{const e={};return t.title&&(e.label=()=>l(I,{title:t.title,tooltip:t.tooltip},null)),e});return C(d,()=>{L(d.value,v.value)||y(d.value)}),()=>{var e;return!((e=t.name)!=null&&e.length)||!m.value.length?null:l(O,{colProps:t.colProps},{default:()=>[l(w.Item,P.value,{default:()=>[l(b,{rowProps:t.rowProps},{default:()=>{var a;return[l(h,{list:m.value,type:"space",spaceProps:{size:[8,0],...(a=t.spaceProps)!=null?a:{}}},null)]}})],...V.value})]})}}});export{lt as default};
